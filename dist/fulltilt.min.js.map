{"version":3,"file":"fulltilt.min.js","sources":["../src/Constants.ts","../src/Events.ts","../src/State.ts","../src/Core.ts","../src/DeviceMotion.ts","../src/DeviceOrientation.ts","../src/Euler.ts","../src/Quaternion.ts","../src/RotationMatrix.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null],"names":["M_PI","Math","PI","M_PI_2","M_2_PI","degToRad","radToDeg","SCREEN_ROTATION_90","SCREEN_ROTATION_180","SCREEN_ROTATION_270","SCREEN_ROTATION_MINUS_90","handleScreenOrientationChange","State","instance","screenOrientationAngle","window","screen","orientation","angle","handleDeviceOrientationChange","event","state","sensors","data","callbacks","forEach","cb","handleDeviceMotionChange","motion","static","constructor","this","active","undefined","isSecureContext","Error","addEventListener","_instance","async","getDeviceOrientation","options","control","DeviceOrientation","start","sensorCheck","e","stop","console","error","getDeviceMotion","DeviceMotion","requestPermission","type","deviceState","DeviceOrientationEvent","name","DeviceMotionEvent","sensorRootObj","Promise","resolve","reject","runCheck","tries","setTimeout","callback","push","removeEventListener","listen","getScreenAdjustedAcceleration","accData","acceleration","x","y","z","screenAccData","getScreenAdjustedAccelerationIncludingGravity","accGData","accelerationIncludingGravity","screenAccGData","getScreenAdjustedRotationRate","rotRateData","rotationRate","alpha","beta","gamma","screenRotRateData","getLastRawEventData","alphaOffsetScreen","alphaOffsetDevice","maxTries","successCount","successThreshold","setCompassAlphaOffset","evt","absolute","webkitCompassAccuracy","Euler","webkitCompassHeading","rotateZ","setGameAlphaOffset","getFixedFrameQuaternion","quaternion","Quaternion","euler","getFixedFrameEuler","setFromEuler","getScreenAdjustedQuaternion","getFixedFrameMatrix","matrix","RotationMatrix","getScreenAdjustedMatrix","orientationData","adjustedAlpha","setFromRotationMatrix","set","getScreenAdjustedEuler","copy","input","R","elements","_alpha","_beta","_gamma","atan2","asin","setFromQuaternion","q","sqw","w","sqx","sqy","sqz","unitLength","wxyz","aX","aY","gX","gY","rotateX","rotateByAxisAngle","rotateY","targetEuler","axis","_matrix","_x_2","_y_2","_z_2","cX","cY","cZ","sX","sY","sZ","cos","sin","normalize","sqrt","sign","multiply","outQuat","multiplyQuaternions","outQuaternion","a","b","multiplied","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","len","targetQuaternion","transformQuaternion","halfAngle","sA","outputQuaternion","Float32Array","m11","m12","m13","m21","m22","m23","m31","m32","m33","identity","_z","_x","_y","m","outMatrix","multiplyMatrices","aE","bE","determinant","targetRotationMatrix","outputMatrix","transformMatrix","cA","validAxis"],"mappings":"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"}